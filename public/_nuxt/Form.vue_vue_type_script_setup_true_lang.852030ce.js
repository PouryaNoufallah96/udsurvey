import{d as g,E as B,j as E,r as V,k as A,l as F,m as w,o as T,i as I,a as i,t as N,u as n,b as s,w as r,B as m,n as S,p as k,q as $,s as j,_ as D}from"./entry.87f1605d.js";import{_ as H}from"./BaseInput.vue_vue_type_script_setup_true_lang.ee0dc373.js";import{_ as U}from"./BaseDropDown.vue_vue_type_script_setup_true_lang.7472083e.js";import{T as q}from"./handle-toast.69ee9aaa.js";const O={class:"w-full md:w-1/2"},P={class:"flex justify-between"},G={class:"text-header"},R=S("\u0628\u0627\u0632\u06AF\u0634\u062A"),W={class:"flex flex-col md:grid md:grid-cols-3 gap-4"},M=g({__name:"Form",props:{isEdit:{type:Boolean,default:!1},categories:{type:Array,default:[]},initialValues:{type:Object,default:()=>({id:null,title:"",customerCategoryId:0})}},setup(a){const u=a,{error:d}=q(),{customClientErrorHandler:_}=B(),p=E(()=>u.isEdit?"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0645\u0634\u062A\u0631\u06CC":"\u0627\u0641\u0632\u0648\u062F\u0646 \u0645\u0634\u062A\u0631\u06CC"),l=V(u.initialValues.customerCategoryId),C=A({title:F().required("\u0646\u0627\u0645 \u0627\u062C\u0628\u0627\u0631\u06CC \u0627\u0633\u062A").label("FullName")}),f=async c=>{try{const t=u.isEdit?"/admin/customer/update-customer":"/admin/customer/add-customer",e=u.isEdit?"PUT":"POST",{result:o}=await k(t,{method:e,body:{...c,customerCategoryId:l.value}});$("/admin/customer")}catch(t){_(t,(e,o)=>d(e,o))}};return(c,t)=>{const e=j,o=H,y=U,x=D,b=w("VForm");return T(),I("div",O,[i("div",P,[i("h2",G,N(n(p)),1),s(e,{to:"/admin/customer"},{default:r(()=>[R]),_:1})]),s(b,{class:"p-8 flex flex-col gap-3 card","validation-schema":n(C),"initial-values":a.initialValues,onSubmit:f},{default:r(({meta:h})=>[i("div",W,[s(o,{class:"col-span-2",name:"title",label:"\u0646\u0627\u0645"}),s(y,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=v=>l.value=v),items:a.categories,text:"\u06A9\u062A\u06AF\u0648\u0631\u06CC"},null,8,["modelValue","items"])]),s(x,{class:"mt-4",type:"submit","btn-type":a.isEdit?n(m).WARNING:n(m).SUCCESS,text:"\u0630\u062E\u06CC\u0631\u0647",disabled:!h.valid},null,8,["btn-type","disabled"])]),_:1},8,["validation-schema","initial-values"])])}}});export{M as _};
