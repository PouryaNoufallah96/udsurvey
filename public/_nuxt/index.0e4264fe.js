import{d as M,h as V,E as j,r as g,H as L,o as r,i as C,b as n,w as o,a as e,u as a,B as b,F as k,c as U,t as h,I as q,n as G,p as w,q as I,J,_ as K,s as O,f as R}from"./entry.87f1605d.js";import{_ as Y}from"./BaseTable.vue_vue_type_script_setup_true_lang.cc4c3890.js";import{u as z}from"./asyncData.f0c46025.js";import{T as P}from"./handle-toast.69ee9aaa.js";const Q=e("div",null,[e("span",{class:"text-base text-dark font-semibold"},"\u0622\u06CC\u0627 \u0627\u0632 \u062D\u0630\u0641 \u0627\u0637\u0645\u06CC\u0646\u0627\u0646 \u062F\u0627\u0631\u06CC\u062F\u061F")],-1),W={class:"flex justify-between"},X=e("h2",{class:"text-header"},"\u06A9\u062A\u06AF\u0648\u0631\u06CC\u200C\u0647\u0627\u06CC \u0646\u0638\u0631\u0633\u0646\u062C\u06CC\u200C",-1),Z={class:"tbl-row"},ee={class:"flex"},te={class:"ml-3"},se={class:"text-dark whitespace-no-wrap"},oe={class:"tbl-row"},ae={class:"flex gap-3"},ne=e("i",{class:"pi pi-pencil hover:text-warning"},null,-1),ue=["onClick"],ce=e("i",{class:"pi pi-times hover:text-danger"},null,-1),le=[ce],re={class:"p-4 flex flex-row justify-between text-sm"},ie={class:"font-bold"},_e={class:"flex flex-col justify-center gap-2"},de=e("i",{class:"pi pi-pencil"},null,-1),pe=["onClick"],Ce=e("i",{class:"pi pi-times"},null,-1),he=[Ce],ge=M({__name:"index",async setup(me){let u,m;V({title:"\u06A9\u062A\u06AF\u0648\u0631\u06CC\u200C\u0647\u0627\u06CC \u0646\u0638\u0631\u0633\u0646\u062C\u06CC\u200C"});const{handlingError:A,customClientErrorHandler:B}=j(),y=P(),i=g(!1),_=g(null),F=["\u062A\u06CC\u062A\u0631",""],E=["title"],{data:d,error:c,refresh:D}=([u,m]=L(async()=>z("get-survey-categories-by-admin",async()=>{var t=await w("/admin/survey-category/get-survey-categories");return t.result},{initialCache:!1},"$LNKUYbw09M")),u=await u,m(),u);c.value&&A(c.value,(t,l)=>y.error(t,l));const f=t=>{_.value=t,i.value=!0},v=()=>{i.value=!1,_.value=null},T=async()=>{try{await w(`/admin/survey-category/delete-survey-category/${_.value}`,{method:"DELETE"}),v(),D()}catch(t){B(t,(l,p)=>y.error(l,p))}},N=()=>{I("/admin/survey/category/add")};return(t,l)=>{const p=J,S=K,x=O,$=Y,H=R;return r(),C("div",null,[n(H,{name:"dashboard"},{header:o(()=>[e("div",W,[X,n(S,{"btn-type":a(b).SUCCESS,text:"\u06A9\u062A\u06AF\u0648\u0631\u06CC \u062C\u062F\u06CC\u062F",onClick:N},null,8,["btn-type"])])]),default:o(()=>[n(p,{"ok-button-type":a(b).DANGER,show:i.value,onClose:v,onOk:T},{default:o(()=>[Q]),_:1},8,["ok-button-type","show"]),a(c)?(r(),C(k,{key:1},[G(h(a(c).message),1)],64)):(r(),C(k,{key:0},[a(d)&&a(d).length?(r(),U($,{key:0,"props-to-search":E,columns:F,data:a(d)},{normal:o(({row:s})=>[e("td",Z,[e("div",ee,[e("div",te,[e("p",se,h(s.title),1)])])]),e("td",oe,[e("div",ae,[n(x,{to:`/admin/survey/category/update/${s.id}`},{default:o(()=>[ne]),_:2},1032,["to"]),e("a",{href:"#",onClick:()=>f(s.id)},le,8,ue)])])]),small:o(({row:s})=>[e("div",re,[e("p",ie,h(s.title),1),e("div",_e,[n(x,{to:`/admin/survey/category/update/${s.id}`},{default:o(()=>[de]),_:2},1032,["to"]),e("a",{href:"#",onClick:()=>f(s.id)},he,8,pe)])])]),_:1},8,["data"])):q("",!0)],64))]),_:1})])}}});export{ge as default};
