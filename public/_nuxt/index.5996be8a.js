import{d as V,h as M,E as j,r as v,H as L,o as n,i as c,b as u,w as o,a as t,u as a,B as b,F as g,c as q,t as _,I as G,n as I,p as w,q as J,J as K,_ as O,s as R,f as U}from"./entry.87f1605d.js";import{_ as W}from"./BaseTable.vue_vue_type_script_setup_true_lang.cc4c3890.js";import{u as X}from"./asyncData.f0c46025.js";import{T as z}from"./handle-toast.69ee9aaa.js";const P=t("div",null,[t("span",{class:"text-base text-dark font-semibold"},"\u0622\u06CC\u0627 \u0627\u0632 \u062D\u0630\u0641 \u0627\u0637\u0645\u06CC\u0646\u0627\u0646 \u062F\u0627\u0631\u06CC\u062F\u061F")],-1),Q={class:"flex justify-between"},Y=t("h2",{class:"text-header"},"\u0645\u0634\u062A\u0631\u06CC\u0627\u0646",-1),Z={class:"tbl-row"},tt={class:"flex"},et={class:"ml-3"},st={class:"text-dark whitespace-no-wrap"},ot={class:"tbl-row"},at={key:0,class:"text-dark pi pi-microsoft"},nt={key:1,class:"text-dark pi pi-wifi"},ct={class:"tbl-row"},ut={class:"flex gap-3"},lt=t("i",{class:"pi pi-pencil hover:text-warning"},null,-1),it=["onClick"],rt=t("i",{class:"pi pi-times hover:text-danger"},null,-1),_t=[rt],dt={class:"p-4 flex flex-row justify-between text-sm"},mt={class:"flex flex-col gap-4"},pt={class:"font-bold"},ht={class:""},ft={class:"flex flex-col justify-center gap-2"},Ct=t("i",{class:"pi pi-pencil"},null,-1),xt=["onClick"],yt=t("i",{class:"pi pi-times"},null,-1),kt=[yt],Et=V({__name:"index",async setup(vt){let l,f;M({title:"\u0645\u0634\u062A\u0631\u06CC\u0627\u0646"});const{handlingError:B,customClientErrorHandler:E}=j(),C=z(),d=v(!1),m=v(null),A=["\u0646\u0627\u0645","\u06A9\u062A\u06AF\u0648\u0631\u06CC",""],D=["title","category"],{data:p,error:i,refresh:F}=([l,f]=L(async()=>X("get-customers-by-admin",async()=>{var s=await w("/admin/customer/get-customers");return s.result},{initialCache:!1},"$cX3xabViKd")),l=await l,f(),l);i.value&&B(i.value,(s,r)=>C.error(s,r));const x=s=>{m.value=s,d.value=!0},y=()=>{d.value=!1,m.value=null},T=async()=>{try{await w(`/admin/customer/delete-customer/${m.value}`,{method:"DELETE"}),y(),F()}catch(s){E(s,(r,h)=>C.error(r,h))}},$=()=>{J("/admin/customer/add")};return(s,r)=>{const h=K,N=O,k=R,H=W,S=U;return n(),c("div",null,[u(S,{name:"dashboard"},{header:o(()=>[t("div",Q,[Y,u(N,{"btn-type":a(b).SUCCESS,text:"\u0645\u0634\u062A\u0631\u06CC \u062C\u062F\u06CC\u062F",onClick:$},null,8,["btn-type"])])]),default:o(()=>[u(h,{"ok-button-type":a(b).DANGER,show:d.value,onClose:y,onOk:T},{default:o(()=>[P]),_:1},8,["ok-button-type","show"]),a(i)?(n(),c(g,{key:1},[I(_(a(i).message),1)],64)):(n(),c(g,{key:0},[a(p)&&a(p).length?(n(),q(H,{key:0,"props-to-search":D,columns:A,data:a(p)},{normal:o(({row:e})=>[t("td",Z,[t("div",tt,[t("div",et,[t("p",st,_(e.title),1)])])]),t("td",ot,[e.category=="Windows"?(n(),c("i",at)):(n(),c("i",nt))]),t("td",ct,[t("div",ut,[u(k,{to:`/admin/customer/update/${e.id}`},{default:o(()=>[lt]),_:2},1032,["to"]),t("a",{href:"#",onClick:()=>x(e.id)},_t,8,it)])])]),small:o(({row:e})=>[t("div",dt,[t("div",mt,[t("p",pt,_(e.title),1),t("p",ht,_(e.category),1)]),t("div",ft,[u(k,{to:`/admin/customer/update/${e.id}`},{default:o(()=>[Ct]),_:2},1032,["to"]),t("a",{href:"#",onClick:()=>x(e.id)},kt,8,xt)])])]),_:1},8,["data"])):G("",!0)],64))]),_:1})])}}});export{Et as default};
